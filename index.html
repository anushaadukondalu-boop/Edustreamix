<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>EDUSTREAMIX | B.Com</title>
<link rel="stylesheet" href="style.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

<!-- SPLASH SCREEN -->
<div id="splash">
    <h1 class="splash-title">EDUSTREAMIX</h1>
</div>

<div class="app-container">

<header class="app-header">
<h1>EDUSTREAMIX</h1>
<p>Smart B.Com Learning</p>
</header>

<div id="groups" class="screen active"></div>
<div id="subjects" class="screen"></div>
<div id="channels" class="screen"></div>
<div id="links" class="screen"></div>

<!-- BOTTOM BUTTONS -->
<div class="bottom-nav">
    <button class="back-btn" onclick="goBack()">â¬… Back</button>
    <button class="exit-btn" onclick="goHome()">âœ– Exit</button>
</div>

</div>

<script src="data.js"></script>

<script>

const groupsDiv = document.getElementById("groups");
const subjectsDiv = document.getElementById("subjects");
const channelsDiv = document.getElementById("channels");
const linksDiv = document.getElementById("links");

const screens = document.querySelectorAll(".screen");

function switchScreen(screen){
    screens.forEach(s=>{
        s.classList.remove("active");
    });
    screen.classList.add("active");
}

function createCard(text, icon, clickFn){
    let card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
        <div class="icon">${icon}</div>
        <div class="title">${text}</div>
    `;
    card.onclick = clickFn;
    return card;
}

function getSubjectIcon(name){
    if(name.toLowerCase().includes("english")) return "ğŸ“˜";
    if(name.toLowerCase().includes("telugu")) return "ğŸ“—";
    if(name.toLowerCase().includes("hindi")) return "ğŸ“™";
    if(name.toLowerCase().includes("sanskrit")) return "ğŸ“•";
    if(name.toLowerCase().includes("accounting")) return "ğŸ“Š";
    if(name.toLowerCase().includes("gst")) return "ğŸ’¼";
    if(name.toLowerCase().includes("research")) return "ğŸ“";
    if(name.toLowerCase().includes("finance")) return "ğŸ’°";
    if(name.toLowerCase().includes("cyber")) return "ğŸ›¡";
    if(name.toLowerCase().includes("technology")) return "ğŸ’»";
    return "ğŸ“";
}

function showSubjects(group){
    subjectsDiv.innerHTML = "<h2>Select Subject</h2>";
    data[group].forEach(sub=>{
        subjectsDiv.appendChild(
            createCard(sub.name, getSubjectIcon(sub.name), ()=>showChannels(sub))
        );
    });
    switchScreen(subjectsDiv);
}

function showChannels(subject){
    channelsDiv.innerHTML = "<h2>Select Channel</h2>";
    subject.channels.forEach(channel=>{
        channelsDiv.appendChild(
            createCard(channel.name, "ğŸ“º", ()=>showLinks(channel))
        );
    });
    switchScreen(channelsDiv);
}

function showLinks(channel){
    linksDiv.innerHTML = "<h2>Open Playlist</h2>";
    channel.links.forEach(link=>{
        let a = document.createElement("a");
        a.href = link;
        a.target = "_blank";
        a.className = "playlist-btn";
        a.innerText = "â–¶ Watch on YouTube";
        linksDiv.appendChild(a);
    });
    switchScreen(linksDiv);
}

function goBack(){
    if(linksDiv.classList.contains("active")) switchScreen(channelsDiv);
    else if(channelsDiv.classList.contains("active")) switchScreen(subjectsDiv);
    else if(subjectsDiv.classList.contains("active")) switchScreen(groupsDiv);
}

function goHome(){
    switchScreen(groupsDiv);
}

window.onload = function(){

    // Splash hide
    setTimeout(()=>{
        document.getElementById("splash").style.display="none";
    },2500);

    groupsDiv.innerHTML = "<h2>Select Group</h2>";

    for(let group in data){

        // REMOVE Semester 6 from display only
        let cleanName = group.replace(" - Semester 6","");

        groupsDiv.appendChild(
            createCard(
